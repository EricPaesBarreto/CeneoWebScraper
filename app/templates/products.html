{% extends 'base.html' %}
{% block title %} Products {% endblock %}

{% block content %}
<div class="container">
    {% if products %}
        {% for product in products %}
            {% if product %}
                <div class="row border rounded py-2 mb-2 align-items-center">
                    <div class="col">
                        <a href="/product/{{ product['product_id'] }}" class="text-decoration-none fw-bold">
                            {{ product["product_name"] }}
                        </a>
                    </div>
                    <div class="col">
                        <p class="mb-1">Opinions</p>
                        {{ product['product_statistics']['opinions_count'] }}
                    </div>
                    <div class="col">
                        <p class="mb-1">Disadvantages</p>
                        {{ product['product_statistics']['cons_count'] }}
                    </div>
                    <div class="col">
                        <p class="mb-1">Advantages</p>
                        {{ product['product_statistics']['pros_count'] }}
                    </div>
                    <div class="col">
                        <p class="mb-1">Average score</p>
                        {{ product['product_statistics']['average_score'] | round(2) }}
                    </div>
                    <div class="col">
                        <p class="mb-1">Download:</p>
                        <a href="/download/product/csv/{{ product['product_id'] }}">.csv</a>
                        <a href="/download/product/xlsx/{{ product['product_id'] }}">.xlsx</a>
                        <a href="/download/product/json/{{ product['product_id'] }}">.json</a>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    {% else %}
        <div class="alert alert-secondary" role="alert">
            Note: There are no products stored on the site!</br>
            You can extract a product on <a href="/extract">this page</a>.
        </div>
    {% endif %}
</div>
{% endblock %}